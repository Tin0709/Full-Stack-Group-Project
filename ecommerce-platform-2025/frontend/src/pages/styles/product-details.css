/* RMIT University Vietnam
Course: COSC2769 - Full Stack Development
Semester: 2025B
Assessment: Assignment 02
Author: Tin (Nguyen Trung Tin)
ID: s3988418 */

:root {
  --pd-radius: 14px;
  --pd-border: #e0e0e0;
}

/* Scope */
.pd-scope .pd-image {
  width: 100%;
  aspect-ratio: 1 / 1;
  background-size: cover;
  background-position: center;
  border-radius: var(--pd-radius);
  transition: transform 350ms ease;
}
.pd-scope .pd-image:hover {
  transform: scale(1.02);
}

/* Qty control */
.pd-scope .qty-group .form-control {
  max-width: 110px;
}
.pd-scope .qty-group .btn,
.pd-scope .qty-group .form-control {
  height: 56px;
}
.pd-scope .qty-group .btn {
  width: 56px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Button palette consistent with the rest */
.pd-scope .btn-dark {
  background-color: #666666;
  border-color: #666666;
}
.pd-scope .btn-dark:hover,
.pd-scope .btn-dark:focus {
  background-color: #4f4f4f;
  border-color: #4f4f4f;
}

/* Tiny "pop" for Add to Cart (same as Products page) */
@keyframes btn-pop-kf {
  0% {
    transform: scale(1);
  }
  40% {
    transform: scale(1.03);
  }
  100% {
    transform: scale(1);
  }
}
.pd-scope .btn-pop {
  animation: btn-pop-kf 220ms ease;
}
/* ---------- Entry animations ---------- */
@media (prefers-reduced-motion: no-preference) {
  /* initial state before mount */
  .pd-scope.pd-enter .pd-hero,
  .pd-scope.pd-enter .pd-details {
    opacity: 0;
    transform: translateY(10px);
  }

  /* image "pop" + gentle zoom-in */
  .pd-scope.pd-in .pd-hero .pd-image {
    animation: pd-image-pop 520ms cubic-bezier(0.2, 0.65, 0.2, 1) both;
    transform-origin: center;
  }

  /* details slide/fade with a small stagger */
  .pd-scope.pd-in .pd-details {
    animation: pd-details-in 480ms ease-out 90ms both;
  }
  .pd-scope.pd-in .pd-details h1 {
    animation: pd-fade-up 420ms ease-out 120ms both;
  }
  .pd-scope.pd-in .pd-details p:nth-of-type(1) {
    animation: pd-fade-up 420ms ease-out 160ms both;
  }
  .pd-scope.pd-in .pd-details p:nth-of-type(2) {
    animation: pd-fade-up 420ms ease-out 200ms both;
  }
  .pd-scope.pd-in .pd-details .qty-group {
    animation: pd-fade-up 420ms ease-out 240ms both;
  }
  .pd-scope.pd-in .pd-details .pd-cta {
    animation: pd-bounce-in 480ms ease-out 280ms both;
  }
}

@keyframes pd-image-pop {
  0% {
    opacity: 0;
    transform: scale(0.975) translateY(8px);
    filter: saturate(0.9);
  }
  60% {
    opacity: 1;
    transform: scale(1.005) translateY(0);
  }
  100% {
    opacity: 1;
    transform: scale(1);
    filter: saturate(1);
  }
}

@keyframes pd-details-in {
  0% {
    opacity: 0;
    transform: translateY(10px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pd-fade-up {
  0% {
    opacity: 0;
    transform: translateY(8px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pd-bounce-in {
  0% {
    opacity: 0;
    transform: translateY(10px) scale(0.98);
  }
  60% {
    opacity: 1;
    transform: translateY(0) scale(1.02);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}
/* ===== Toasts ===== */
#toast-root.toast-container {
  position: fixed;
  top: calc(env(safe-area-inset-top, 0px) + 66px);
  right: calc(env(safe-area-inset-right, 0px) + 20px);
  z-index: 2140;
  display: flex;
  flex-direction: column;
  gap: 10px;
  pointer-events: none;
}

/* individual toast */
.flash-message {
  position: relative;
  min-width: 260px;
  max-width: 60ch;
  border-radius: 12px;
  padding: 10px 14px;
  display: flex;
  align-items: center;
  gap: 10px;
  box-shadow: 0 8px 22px rgba(0, 0, 0, 0.12);
  animation: pd-toast-slide 1.6s ease forwards;
}

.toast-success {
  background: #e9f7ef;
  border: 1px solid #bfe8cf;
  color: #196a35;
}
.toast-icon {
  flex: 0 0 24px;
  width: 24px;
  height: 24px;
  display: grid;
  place-items: center;
  font-weight: 700;
  border-radius: 999px;
  background: #c9efd9;
  line-height: 1;
}
.toast-text {
  font-weight: 600;
}

@keyframes pd-toast-slide {
  0% {
    transform: translateY(-8px);
    opacity: 0;
  }
  12% {
    transform: translateY(0);
    opacity: 1;
  }
  82% {
    transform: translateY(0);
    opacity: 1;
  }
  100% {
    transform: translateY(-8px);
    opacity: 0;
  }
}

@media (max-width: 576px) {
  #toast-root.toast-container {
    left: 16px;
    right: 16px;
  }
  .flash-message {
    min-width: 0;
  }
}
